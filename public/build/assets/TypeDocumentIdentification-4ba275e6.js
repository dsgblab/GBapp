import{u as I,r as V,a as L}from"./i18n-validators-877ff800.js";import{_ as q}from"./AppLayout-e4602613.js";import{_ as N}from"./PrimaryButton-5d93b565.js";import{k as T,I as r,L as A,o as a,c as m,w as s,a as t,D as v,b as n,g as p,e as u,h as b,F as w,f as C,t as d,n as R}from"./app-b06eca24.js";import{_ as S}from"./DangerButton-b92a3342.js";import{_ as z}from"./SecondaryButton-1060d753.js";import{_ as P}from"./InputLabel-2d443a13.js";import{a as F}from"./DialogModal-22603a1a.js";import{_ as O}from"./TextInput-d2ca2587.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";const U={components:{TextInput:O,DialogModal:F,InputLabel:P,SecondaryButton:z,DangerButton:S,Link:T,PrimaryButton:N,AppLayout:q},props:{type_document_identifications:Array},setup(){return{v$:I()}},validations(){return{modal:{form:{id:{requiredIf:V(this.modal.editMode)},name:{required:L}}}}},data(){return{table:{data:this.type_document_identifications},modal:{open:!1,editMode:!1,form:{id:"",name:""}}}},methods:{closeModal(){this.modal={open:!1,editMode:!1,form:{id:"",name:""}}},edit(e){this.modal={open:!0,editMode:!0,form:{id:e.id,name:e.name}}},store(){this.v$.modal.form.$touch(),this.v$.modal.form.$invalid?this.$swal({icon:"error",title:"ERROR",text:"Verifica que toda la información este correctamente diligenciada"}):axios.post(route("type-document-identification.store"),this.modal.form).then(e=>{this.closeModal(),this.table.data=e.data}).catch(e=>{this.$swal({icon:"error",title:"Error",text:e.response.data})})},update(){this.v$.modal.form.$touch(),this.v$.modal.form.$invalid?this.$swal({icon:"error",title:"ERROR",text:"Verifica que toda la información este correctamente diligenciada"}):axios.put(route("type-document-identification.update",this.modal.form.id),this.modal.form).then(e=>{this.closeModal(),this.table.data=e.data}).catch(e=>{this.$swal({icon:"error",title:"Error",text:e.response.data})})},destroy(e){this.$swal({icon:"question",title:"¿Eliminar registro?",text:"¡Esta acción no es reversible!",showCancelButton:!0,confirmButtonText:"¡Si, Eliminar!"}).then(l=>{l.isConfirmed&&axios.delete(route("type-document-identification.destroy",e)).then(f=>{this.table.data=f.data}).catch(f=>{this.$swal({icon:"error",title:"Error",text:f.response.data})})})}}},j={class:"flex flex-row"},H=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Tipos de documentos de identidad ",-1),J={class:"py-12"},K={class:"max-w-8xl mx-6 sm:px-6 lg:px-8"},Q={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},W={class:"py-2 align-middle inline-block min-w-full"},X={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},Y={class:"min-w-full divide-y divide-gray-200"},Z=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nombre "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Creado el "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Creado por "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actualizado el "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actualizado por "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})])],-1),tt={class:"bg-white divide-y divide-gray-200"},et={class:"px-6 py-4 text-left text-sm font-medium"},ot={class:"px-6 py-4 text-left text-sm font-medium"},at={class:"px-6 py-4 text-left text-sm font-medium"},st={class:"px-6 py-4 text-left text-sm font-medium"},it={class:"px-6 py-4 text-left text-sm font-medium"},rt={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium"},nt={class:"mt-4"},dt={key:0,class:"mt-1"};function lt(e,l,f,_,i,c){const x=r("font-awesome-icon"),h=r("PrimaryButton"),k=r("SecondaryButton"),$=r("DangerButton"),B=r("InputLabel"),M=r("TextInput"),D=r("DialogModal"),E=r("AppLayout"),y=A("permission");return a(),m(E,{title:"Tipos de documentos de identidad"},{header:s(()=>[t("div",j,[H,v((a(),m(h,{type:"button",class:"ml-auto",onClick:l[0]||(l[0]=o=>i.modal.open=!0)},{default:s(()=>[n(x,{icon:"plus",class:"mr-2"}),p(" Nuevo ")]),_:1})),[[y,"design.time-state.create"]])])]),default:s(()=>[t("div",J,[t("div",K,[t("div",Q,[t("div",W,[t("div",X,[t("table",Y,[Z,t("tbody",tt,[i.table.data.length>0?(a(!0),u(w,{key:0},b(i.table.data,o=>(a(),u("tr",null,[t("td",et,d(o.name),1),t("td",ot,d(o.created_at),1),t("td",at,d(o.created_by.name),1),t("td",st,d(o.updated_at),1),t("td",it,d(o.updated_by.name),1),t("td",rt,[v((a(),m(k,{class:"mr-2",onClick:g=>c.edit(o)},{default:s(()=>[n(x,{icon:["far","pen-to-square"]})]),_:2},1032,["onClick"])),[[y,"report.edit"]]),v((a(),m($,{onClick:g=>c.destroy(o.id)},{default:s(()=>[n(x,{icon:["far","trash-can"]})]),_:2},1032,["onClick"])),[[y,"report.destroy"]])])]))),256)):C("",!0)])])])])])])]),n(D,{show:i.modal.open,onClose:c.closeModal},{title:s(()=>[p(d(i.modal.editMode?"Editar":"Crear"),1)]),content:s(()=>[t("div",nt,[n(B,{value:"Nombre"}),n(M,{modelValue:i.modal.form.name,"onUpdate:modelValue":l[1]||(l[1]=o=>i.modal.form.name=o),type:"text",class:R(["mt-1 block w-full",{"border-red-500":_.v$.modal.form.name.$error}]),required:"",autocomplete:"Nombre"},null,8,["modelValue","class"]),_.v$.modal.form.name.$error?(a(),u("ul",dt,[(a(!0),u(w,null,b(_.v$.modal.form.name.$errors,(o,g)=>(a(),u("li",{class:"text-red-500",key:g},d(o.$message),1))),128))])):C("",!0)])]),footer:s(()=>[n(k,{onClick:c.closeModal},{default:s(()=>[p(" Cancelar ")]),_:1},8,["onClick"]),i.modal.editMode?(a(),m(h,{key:0,class:"ml-3",onClick:c.update},{default:s(()=>[p(" Actualizar ")]),_:1},8,["onClick"])):(a(),m(h,{key:1,class:"ml-3",onClick:c.store},{default:s(()=>[p(" Guardar ")]),_:1},8,["onClick"]))]),_:1},8,["show","onClose"])]),_:1})}const vt=G(U,[["render",lt]]);export{vt as default};
